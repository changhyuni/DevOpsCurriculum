# Quest 13. 마이크로서비스와 람다

## Introduction
* 이번 퀘스트에서는 마이크로서비스의 개념과 람다 서비스에 대해 알아보겠습니다.

## Topics
* 마이크로서비스
* Lambda
* API Gateway

## Resources
* https://news.hada.io/topic?id=638
* https://www.redhat.com/ko/topics/microservices/what-are-microservices
* https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/welcome.html
* https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/welcome.html

## Checklist
* 마이크로서비스가 무엇인가요? 이러한 구조의 장점은 무엇일까요?  

마이크로 서비스는 기존 서비스 형태인 모놀리식 애플리케이션 구현 방법의 단점을 보완하려 만들어진 아키텍쳐입니다. 보통 모놀리식 아키텍쳐는 (java의 경우) 웹 애플리케이션을 WAR파일로 빌드되고 톰캣이나 제티같은 WAS에 배포하게 됩니다. 일반 어플리케이션이라면 실행가능한 JAR 파일로 묶어서 배포 할 수도 있습니다. 한 애플리케이션을 구동하기 위한 리소스들을 모두 묶어 배포하는 것이 모놀리식 아키텍쳐입니다. 이 방법을 사용하면, 모든 리소스가 하나의 프로젝트에 들어가 있기 때문에 개발,빌드,배포,테스트가 용이하고 심플합니다. 규모가 작을때는 좋겠지만 규모가 점점 커지면서 애플리케이션을 크고 복잡해지기 시작합니다. 리소스가 늘어나고 복잡해지면서 개발자가 전체를 이해하기 힘듭니다. 코드 전체를 이해하기 힘들어 디버깅에 어려움이 생깁니다. 애플리케이션 가동 시간도 늘어나고, 빌드 돌리는 시간도 매우 오래걸립니다. 이런 상황 일수록 CI/CD는 불가능합니다. 런타임의 구애받고 스케일링하기도 매우 힘들어지게 됩니다. 이러한 단점들을 보완한것이 바로 마이크로서비스 입니다. 애플리케이션을 서비스 단위로 매우 작게 나누고, 서비스들끼리 서로 통신하는 형태의 아키텍쳐 패턴입니다. 각 서비스들은 비동기 방식으로 REST API로 통신하고 서비스 별로 집중해서 독립적으로 개발할 수 있습니다. 서비스 별로 독립적이기 때문에 소스를 이해하고 유지보수가 쉬워집니다. 서비스 별 확장 및 배포에 용이합니다.  

* AWS Lambda는 어떤 서비스일까요? 이러한 서비스는 어떤 특징을 가지고, 어디에 쓰일 수 있을까요?  
AWS Lambda는 AWS에서 제공하는 서버리스 서비스입니다. 애플리케이션을 운영한다 할 때 운영되는 서버가 필요한데 Lambda는 "서버리스" 방식이라 사용자는 운영되는 서버에대해 걱정할 필요 없고 비즈니스에 좀 더 집중할 수 있는 환경을 만들어줍니다. 각 API들을 API Gateway와 연동시켜 애플리케이션 구현할 수 있습니다. 하지만, 편한만큼 AWS에 많이 의존하게 되고 커스텀마이징이 힘들며 가격이 비싸다는것이 단점입니다.  

* API Gateway는 어떤 서비스인가요? 어떤 설정을 할 수 있을까요?  
API Gateway란 API의 프론트엔드로서 동작하는 서비스로, API 요청을 받아 요청을 조정하고 보안정책을 적용한 후 요청을 백엔드 서비스로 전달하고 발생한 응답을 요청자에게 전달해주는 역할을 합니다. 게이트웨이는 요청과 응답을 실시간으로 변형할 수 있는 기능을 제공하기도 합니다. 또한 통계 자료에 대한 수집기능이나 응답에 대한 캐시기능을 제공합니다. 게이트 웨이는 기능적으로 인증,인가,보안 감사 및 내부 규제 준수등의 기능도 제공합니다. Lambda에서 만들어둔 API로 트래픽 라우팅을 설정할 수 있고, REST API 뿐만아니라 WebSock API도 제공합니다. 제 생각엔 ALB와 유사하다고 생각합니다. 

## Quest
* AWS Lambda와 API Gateway를 이용해 새로운 웹서비스를 하나 구축해 보세요. (기존 컨테이너 기반의 서비스는 그대로 둡니다!)
* 만들어 둔 정적인 웹사이트에서 Lambda 기반의 API 역시 활용할 수 있도록 수정해 보세요.
